
<ul class="nav nav-tabs nav-fill" id="myTab" role="tablist">
    <li class="nav-item">
      <a class="nav-link" id="renewalReason-tab" role="tab"
        aria-controls="renewalReason" aria-selected="true"
        [ngClass]="{'active': selectedFilter === 'renewalReason'}"
        (click)="selectFilter('renewalReason','1')">1. Renewal Reason</a>
    </li>
    <li class="nav-item ">
      <a class="nav-link" id="applicantInfo-tab" role="tab"
        aria-controls="applicantInfo" aria-selected="false"
        [ngClass]="{'active': selectedFilter === 'applicantInfo'}"
        (click)="selectFilter('applicantInfo','2')">2. Applicant Info</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="prevPassportDetails-tab" role="tab"
        aria-controls="prevPassportDetails" aria-selected="false"
        [ngClass]="{'active': selectedFilter === 'prevPassportDetails'}"
        (click)="selectFilter('prevPassportDetails','3')">3. Previous Passport Details</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="appointmentBooking-tab" role="tab"
        aria-controls="appointmentBooking" aria-selected="false"
        [ngClass]="{'active': selectedFilter === 'appointmentBooking'}"
        (click)="selectFilter('appointmentBooking','4')">4. Appointment Booking</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="docsUpload-tab" role="tab"
        aria-controls="docsUpload" aria-selected="false"
        [ngClass]="{'active': selectedFilter === 'docsUpload'}"
        (click)="selectFilter('docsUpload','5')">5. Upload Documents</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="declaration-tab" role="tab"
        aria-controls="declaration" aria-selected="false"
        [ngClass]="{'active': selectedFilter === 'declaration'}"
        (click)="selectFilter('declaration','6')">6. Declaration</a>
    </li>
  </ul>

  <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
    <div class="mt-3">
      <form
        [formGroup]="renewalForm"
        id="passport-renewal-form"
        (ngSubmit)="onSubmit()"
      >
        @if(sectionNo==1){
          <div id="section1" class="form-group section">
            <fieldset formGroupName="renewalReason">
              <legend>
                <b>1. Reason for renewal</b>
              </legend>
              <div class="form-group" id="type_of_application">
                <label>Type of Application:</label><br />
                <div class="custom-radio-group">
                  <input
                    class="custom-radio"
                    type="radio"
                    name="applicationType"
                    value="1"
                    id="application_type_normal"
                    formControlName="applicationType"
                    required />
                  <label class="custom-radio-label" for="application_type_normal">
                    Normal
                    <span class="checkmark">&check;</span>
                  </label>
          
                  <input
                    class="custom-radio"
                    type="radio"
                    name="applicationType"
                    value="2"
                    id="application_type_tatkaal"
                    formControlName="applicationType"
                    required />
                  <label class="custom-radio-label" for="application_type_tatkaal">
                    Tatkaal
                    <span class="checkmark">&check;</span>
                  </label>
                </div>
                <p class="control-error" *ngIf="renewalForm.get('service_required.applicationType')?.invalid && renewalForm.get('service_required.applicationType')?.touched" class="control-error">
                  Please select the type of application.
                </p>
              </div>
          
              <hr />
          
              <div class="form-group" id="passport_booklet_type_group">
                <label>Type of Passport Booklet:</label><br />
                <div class="custom-radio-group">
                  <input
                    class="custom-radio"
                    type="radio"
                    name="pagesRequired"
                    value="1"
                    id="passport_booklet_type_36"
                    formControlName="pagesRequired"
                    required />
                  <label class="custom-radio-label" for="passport_booklet_type_36">
                    36 Pages
                    <span class="checkmark">&check;</span>
                  </label>
          
                  <input
                    class="custom-radio"
                    type="radio"
                    name="pagesRequired"
                    value="2"
                    id="passport_booklet_type_60"
                    formControlName="pagesRequired"
                    required />
                  <label class="custom-radio-label" for="passport_booklet_type_60">
                    60 Pages
                    <span class="checkmark">&check;</span>
                  </label>
                </div>
                <p class="control-error" *ngIf="renewalForm.get('service_required.pagesRequired')?.invalid && renewalForm.get('service_required.pagesRequired')?.touched" class="control-error">
                  Please select the type of passport booklet.
                </p>
              </div>
          
              <hr />
          
              <div class="form-group" id="validity_required_group">
                <label>Validity Required:</label><br />
                <div class="custom-radio-group">
                  <input
                    class="custom-radio"
                    type="radio"
                    name="validityReq"
                    value="1"
                    id="validity_required_10"
                    formControlName="validityReq"
                    required />
                  <label class="custom-radio-label" for="validity_required_10">
                    10 Years
                    <span class="checkmark">&check;</span>
                  </label>
          
                  <input
                    class="custom-radio"
                    type="radio"
                    name="validityReq"
                    value="2"
                    id="validity_required_up_to_18"
                    formControlName="validityReq"
                    required />
                  <label class="custom-radio-label" for="validity_required_up_to_18">
                    Up to age 18 (For minors between 15 and 18 years)
                    <span class="checkmark">&check;</span>
                  </label>
                </div>
                <p class="control-error" *ngIf="renewalForm.get('service_required.validityReq')?.invalid && renewalForm.get('service_required.validityReq')?.touched" class="control-error">
                  Please select the validity required.
                </p>
              </div>
    
              <div class="form-group row">
                <p><b>Specify reason(s) of re-issue</b></p>
                <label for="reasonForRenewal">
                  <select
                    id="reasonForRenewal"
                    name="reasonForRenewal"
                    formControlName="reasonForRenewal"
                  >
                    <option value="" disabled selected>Select a reason</option>
                    <option value="1">Validity Expired within 3 years/Due to Expire</option>
                    <option value="2">Validity Expired more than 3 years ago</option>
                    <option value="3">Change in Existing Personal Particulars</option>
                    <option value="4">Exhaustion of Pages</option>
                    <option value="5">Lost Passport</option>
                    <option value="6">Damaged Passport</option>
                  </select>
                </label>
                <div *ngIf="this.renewalForm.get('service_required.reasonForRenewal')?.invalid && this.renewalForm.get('service_required.reasonForRenewal')?.touched">
                  <p class="control-error">
                    Please select a valid reason for passport renewal
                  </p>
                </div>
              </div>

              <hr/>
              
              <div class="form-group row">
                <b>If change in existing personal particulars, specify reason(s)</b>
                <label for="changeInAppearance">
                  <select
                    id="changeInAppearance"
                    name="changeInAppearance"
                    formControlName="changeInAppearance"
                  >
                    <option value="1">Appearance</option>
                    <option value="2">Signature</option>
                    <option value="3">Given Name</option>
                    <option value="4">Surname</option>
                    <option value="5">Date of Birth</option>
                    <option value="6">Spouse Name</option>
                    <option value="7">Address</option>
                    <option value="8">Delete ECR</option>
                    <option value="9">Others</option>
                  </select>
                </label>
                <div *ngIf="this.renewalForm.get('service_required.changeInAppearance')?.invalid && this.renewalForm.get('service_required.changeInAppearance')?.touched">
                  <p class="control-error">
                    Please select a valid reason for passport renewal
                  </p>
                </div>
              </div>
              
              <div class="text-right">
                <button
                  class="btn btn-primary nextButton btn-custom"
                  type="button"
                  (click)="onClickNext(2)"
                >
                  Next
                </button>
              </div>
            </fieldset>
          </div>
  
        }
       
        @if(sectionNo==2){
          <div id="section2" class="form-group section">
            <fieldset formGroupName="applicantInfo">
              <legend><b>2. Applicant Information</b></legend>
              <div class="form-group">
                <label for="first-name">First Name:</label>
                <input
                  type="text"
                  class="form-control"
                  id="first-name"
                  name="first_name"
                  required
                  formControlName="first_name"
                />
                @if(this.renewalForm.get('applicantInfo.first_name')?.invalid
                &&
                this.renewalForm.get('applicantInfo.first_name')?.touched){
                <p class="control-error">Please enter first name</p>
                }
              </div>
  
              <div class="form-group">
                <label for="last-name">Last Name:</label>
                <input
                  type="text"
                  class="form-control"
                  id="last-name"
                  name="last_name"
                  required
                  formControlName="last_name"
                />
                @if(this.renewalForm.get('applicantInfo.last_name')?.invalid
                && this.renewalForm.get('applicantInfo.last_name')?.touched){
                <p class="control-error">Please enter surname</p>
                }
              </div>
  
              <div class="form-group">
                <label for="date-of-birth">Date of Birth:</label>
                <input
                  type="date"
                  class="form-control"
                  id="date-of-birth"
                  name="date_of_birth"
                  required
                  formControlName="date_of_birth"
                />
                @if(this.renewalForm.get('applicantInfo.date_of_birth')?.invalid
                &&
                this.renewalForm.get('applicantInfo.date_of_birth')?.touched){
                <p class="control-error">Please enter valid date of birth</p>
                }
              </div>
  
              <div class="form-group">
                <label for="email">Email Address:</label>
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  name="email"
                  required
                  formControlName="email"
                />
                @if(this.renewalForm.get('applicantInfo.email')?.invalid &&
                this.renewalForm.get('applicantInfo.email')?.touched){
                <p class="control-error">Please enter valid email id</p>
                }
              </div>
  
              <div class="form-group">
                <label for="phone-number">Phone Number:</label>
                <input
                  type="tel"
                  class="form-control"
                  id="phone-number"
                  name="phone_number"
                  required
                  formControlName="phone_number"
                />
                @if(this.renewalForm.get('applicantInfo.phone_number')?.invalid
                &&
                this.renewalForm.get('applicantInfo.phone_number')?.touched){
                <p class="control-error">Please enter valid phone number</p>
                }
              </div>
              <div class="text-right">
                <button
                  class="btn btn-primary nextButton btn-custom"
                  type="button"
                  (click)="onClickNext(3)"
                >
                  Next
                </button>
              </div>
            </fieldset>
          </div>
        }
        
        @if(sectionNo==3){
          <div id="section3" class="form-group section">
            <fieldset formGroupName="prevPassportDetails">
              <legend>
                <b>3. Previous passport details</b>
              </legend>
              <div class="form-group">
                <label for="passport-number">Current Passport Number:</label>
                <input
                  type="text"
                  class="form-control"
                  id="passport-number"
                  name="passport_number"
                  required
                  formControlName="passport_number"
                />
                @if(this.renewalForm.get('applicantInfo.passport_number')?.invalid
                &&
                this.renewalForm.get('applicantInfo.passport_number')?.touched){
                <p class="control-error">Please enter valid Passport number</p>
                }
              </div>
  
              <div class="form-group">
                <label for="issue-date">Date of Issue:</label>
                <input
                  type="date"
                  class="form-control"
                  id="issue-date"
                  name="issue_date"
                  required
                  formControlName="issue_date"
                />
                @if(this.renewalForm.get('applicantInfo.issue_date')?.invalid
                &&
                this.renewalForm.get('applicantInfo.issue_date')?.touched){
                <p class="control-error">
                  Please enter valid date on which previous passport was issued
                </p>
                }
              </div>
              <div class="text-right">
                <button
                  class="btn btn-primary nextButton btn-custom"
                  type="button"
                  (click)="onClickNext(4)"
                >
                  Next
                </button>
              </div>
            </fieldset>
          </div>
        }
        
        @if(sectionNo==4){
          <div id="section4" class="form-group section">
            <fieldset formGroupName="appointmentBooking">
              <legend><b>4. Appointment Booking</b></legend>
              <div class="form-group">
                <label for="appdocver"
                  >Appointment for Document Verification:</label
                >
                <input
                  type="date"
                  class="form-control"
                  id="appdocver"
                  name="appdocver"
                  required
                  formControlName="appdocver"
                />
                @if(this.renewalForm.get('appointmentBooking.appdocver')?.invalid
                &&
                this.renewalForm.get('appointmentBooking.appdocver')?.touched){
                <p class="control-error">
                  Please book an appointment date for document verification
                </p>
                }
              </div>
              <div class="form-group">
                <label for="apppolice"
                  >Appointment for Police Verification:</label
                >
                <input
                  type="date"
                  class="form-control"
                  id="apppolice"
                  name="apppolice"
                  required
                  formControlName="apppolice"
                />
                @if(this.renewalForm.get('appointmentBooking.apppolice')?.invalid
                &&
                this.renewalForm.get('appointmentBooking.apppolice')?.touched){
                <p class="control-error">
                  Please book an appointment date for police verification
                </p>
                }
              </div>
              <div class="text-right">
                <button
                  class="btn btn-primary nextButton btn-custom"
                  type="button"
                  (click)="onClickNext(5)"
                >
                  Next
                </button>
              </div>
            </fieldset>
          </div>
        }
        
        @if(sectionNo==5){
          <div id="section5" class="form-group section">
            <fieldset formGroupName="docsUpload">
              <legend>
                <b>5. Upload Documents</b>
              </legend>
              <p>Please upload the following documents:</p>
             
              <div class="form-group">
                <ul>
                  <li>
                    Recent Passport Photo (refer to official guidelines for size and
                    format)
                  </li>
                  <li>Copy of Current Passport Biodata Page</li>
                </ul>
                <input
                  type="file"
                  class="form-control-file"
                  id="document-upload"
                  name="documents"
                  multiple
                  required
                  formControlName="documents"
                />
              </div>
              <div class="text-right">
                <button
                  class="btn btn-primary nextButton btn-custom"
                  type="button"
                  (click)="onClickNext(6)"
                >
                  Next
                </button>
              </div>
            </fieldset>
          </div>
        }
        
        @if(sectionNo==6){
          <div id="section6" class="form-group section">
            <fieldset formGroupName="declaration">
              <legend>
                <b>6. Declaration</b>
              </legend>
              <h5>
                I owe allegiance to the sovereignty, unity & integrity of India,
                and have not voluntarily acquired citizenship or travel document
                of any other country. I have not lost, surrendered or been
                deprived of the citizenship of India. I have not any of the
                relating to the possession and use of an Indian passport. I affirm
                that the information and particulars given by me in this form are
                true and correct. I further state that I am not suppressing any
                material information in this regard. I further affirm that the
                enclosures and documentary proof submitted in support of my
                application for an Indian passport are authentic and solely
                pertain to me and I am fully responsible for the accuracy of the
                same. I am liable to be penalized or prosecuted if found
                otherwise. I am aware that under the Passports Act, 1967 it is a
                criminal offence to furnish any false information or to suppress
                any material information with a view to obtaining passport or
                travel document. I have read and understood the contents of the
                above and by submitting this form certify that all the information
                submitted by me in the form is bonafide.
              </h5>
              <div class="form-group">
                <label for="applicant_place">Place:</label>
                <input
                  type="text"
                  class="form-control"
                  name="applicant_place"
                  id="applicant_place"
                  required
                  formControlName="place"
                />
                @if(this.renewalForm.get('declaration.place')?.invalid &&
                this.renewalForm.get('declaration.place')?.touched){
                <p class="control-error">Please enter place</p>
                }
              </div>
              <div class="form-group">
                <label for="applicant_date">Date:</label>
                <input
                  type="date"
                  class="form-control"
                  name="applicant_date"
                  id="applicant_date"
                  required
                  formControlName="applicant_date"
                />
                @if(this.renewalForm.get('declaration.applicant_date')?.invalid
                &&
                this.renewalForm.get('declaration.applicant_date')?.touched){
                <p class="control-error">Please enter today's date</p>
                }
              </div>
              <div class="form-group">
                <label for="applicant_signature"
                  >Signature/Left Hand Thumb Impression:</label
                >
                <input
                  type="text"
                  class="form-control"
                  name="applicant_signature"
                  id="applicant_signature"
                  required
                  minlength="1"
                  maxlength="30"
                  formControlName="applicant_signature"
                />
                @if(this.renewalForm.get('declaration.place')?.invalid &&
                this.renewalForm.get('declaration.place')?.touched){
                <p class="control-error">Please sign the document.</p>
                }
              </div>
              <div class="text-right">
                <button type="submit" id="submit" class="btn btn-primary btn-custom" (click)="onSubmit()">
                  Submit Application
                </button>
              </div>
            </fieldset>
          </div>
        }
        
      </form>
    </div>
  </main>
